{% extends ":Admin:layout.html.twig" %}

{% block title %}{{ 'app.edit' | trans }}{% endblock %}

{% block header %}
    <div class="top-header">
        <div class="header-name">
            <a href="{{ path('admin_product_list') }}"><i class="glyphicon glyphicon-tags"></i>{{ 'app.productlist' | trans }} </a>
            <span id="slash">/</span>
            <span> {{ 'app.edit' | trans }}</span>
        </div>
    </div>
{% endblock %}

{%  block content %}
    <div class="product-form">
        {{ form_start(form) }}
        <div class="product-description">
            {{ form_row(form.name) }}
            {{ form_row(form.description) }}
        </div>

        <div class="product-image clearfix">
            <img src="{{ asset('uploads/' ~ form.vars.data.image) }}" />
            <button><span>{{ 'app.add.image' | trans}}</span>{{ form_widget(form.file) }}</button>
        </div>

        <div class="product-price">
            {{ form_row(form.price) }}
        </div>

        <div class="product-category">
            {{ form_row(form.tag) }}
            <button>{{ 'app.add' }}</button>
            <div id="messages"></div>
            <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
            <script>
                $(document).ready(function() {
                    $('button').click(function() {
                        var toAdd = $("input[name=product[tag]]").val();
                        $('#messages').append("<p>" + toAdd + "</p>");
                    });
                });
            </script>
            {{ form_row(form.category) }}
        </div>
            {{ form_widget(form) }}

        <div class="buttons">
            <a href=" {{ path('admin_product_list') }} ">{{ 'app.cancel' | trans}}</a>
            <input type="submit" value="{{ 'app.saveproduct' | trans}}" class="product-submit" />
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}