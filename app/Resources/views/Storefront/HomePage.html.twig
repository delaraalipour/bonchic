{% extends ":Storefront:layout.html.twig" %}

{% block title %}{{ 'app.homepage' | trans }}{% endblock %}

{% block content %}
    <div class="banner">
        {% for slide in slides %}
            <div><img class="mySlides" src="{{ asset('uploads/' ~ slide.image) }}" /></div>
        {% endfor %}

        <a class="btn-floating btn-floating-left" onclick="plusDivs(1)"><i class="glyphicon glyphicon-chevron-left"></i></a>
        <a class="btn-floating btn-floating-right" onclick="plusDivs(-1)"><i class="glyphicon glyphicon-chevron-right"></i></a>
    </div>

    <script>
        var slideIndex = 1;
        showDivs(slideIndex);
        function plusDivs(n) {
            showDivs(slideIndex += n);
        }
        function showDivs(n) {
            var i;
            var x = document.getElementsByClassName("mySlides");
            if (n > x.length) {slideIndex = 1}
            if (n < 1) {slideIndex = x.length}
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            x[slideIndex-1].style.display = "block";
        }
    </script>

    <div class="products-item clearfix">
        {% for product in products %}
            <div class="products">
                <div class="image"><a href="{{ path('storefront_product_show', {id: product.id}) }}"><img src="{{ asset('uploads/' ~ product.image) }}" /></a></div>
                <div class="details">
                    <div class="title"><a href="{{ path('storefront_product_show', {id: product.id}) }}">{{ product.name }}</a></div>
                    <div class="price">{{ product.price | number_format(0, '.', ',') }} تومان</div>
                    <div class="action">
                        <a href="{{ path('cart_add', {id: product.id}) }}">{{ 'app.add-to-cart' | trans }}</a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
{% block footer %}
    <div class="footer-widgets-top"></div>
    <div class="footer"></div>
{% endblock %}